<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cửa Hàng Đồng Hồ Cao Cấp</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa; /* Light gray background for the whole page */
            color: #333;
        }
        .active-nav {
            color: #007bff; /* Blue color for active nav link */
            font-weight: 600;
        }
        .page {
            display: none; /* Hide all pages by default */
            min-height: calc(100vh - 200px); /* Adjust based on header/footer height */
        }
        .page.active {
            display: block; /* Show active page */
        }
        .product-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .form-input {
            border-radius: 0.375rem;
            border: 1px solid #ced4da;
            padding: 0.75rem 1rem;
            width: 100%;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .form-input:focus {
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 600;
            transition: background-color 0.3s ease;
            cursor: pointer;
        }
        .btn-primary {
            background-color: #007bff;
            color: white;
        }
        .btn-primary:hover {
            background-color: #0056b3;
        }
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        .btn-secondary:hover {
            background-color: #545b62;
        }
        /* Custom modal styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
            max-width: 500px;
            border-radius: 0.5rem;
            text-align: center;
        }
        .modal-close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .modal-close:hover,
        .modal-close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-100">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-blue-600 nav-link" data-page="home">WATCHSTORE</a>
            <div class="space-x-4">
                <a href="#" class="text-gray-700 hover:text-blue-600 nav-link" data-page="home">Trang Chủ</a>
                <a href="#" class="text-gray-700 hover:text-blue-600 nav-link" data-page="products">Sản Phẩm</a>
                <a href="#" class="text-gray-700 hover:text-blue-600 nav-link" data-page="contact">Liên Hệ</a>
                <a href="#" class="text-gray-700 hover:text-blue-600 nav-link" data-page="auth">Đăng Nhập/Đăng Ký</a>
                <a href="#" class="text-gray-700 hover:text-blue-600 relative" id="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-8">
        <section id="home" class="page active">
            <div class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-20 px-10 rounded-lg shadow-xl text-center">
                <h1 class="text-5xl font-bold mb-6">Chào Mừng Đến Với WatchStore</h1>
                <p class="text-xl mb-8">Khám phá bộ sưu tập đồng hồ sang trọng và đẳng cấp.</p>
                <button class="bg-white text-blue-600 font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-gray-100 transition duration-300 nav-link btn" data-page="products">Xem Sản Phẩm</button>
            </div>

            <div class="mt-16">
                <h2 class="text-3xl font-semibold text-center mb-10">Sản Phẩm Nổi Bật</h2>
                <div id="featured-products" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    </div>
            </div>

            <div class="mt-16 bg-gray-200 p-10 rounded-lg shadow">
                <h2 class="text-3xl font-semibold text-center mb-6">Tại Sao Chọn Chúng Tôi?</h2>
                <div class="grid md:grid-cols-3 gap-8 text-center">
                    <div>
                        <i class="fas fa-medal text-blue-500 text-4xl mb-3"></i>
                        <h3 class="text-xl font-semibold mb-2">Chất Lượng Cao</h3>
                        <p class="text-gray-700">Cam kết sản phẩm chính hãng, chất lượng vượt trội.</p>
                    </div>
                    <div>
                        <i class="fas fa-shipping-fast text-blue-500 text-4xl mb-3"></i>
                        <h3 class="text-xl font-semibold mb-2">Giao Hàng Nhanh</h3>
                        <p class="text-gray-700">Vận chuyển nhanh chóng, an toàn trên toàn quốc.</p>
                    </div>
                    <div>
                        <i class="fas fa-headset text-blue-500 text-4xl mb-3"></i>
                        <h3 class="text-xl font-semibold mb-2">Hỗ Trợ 24/7</h3>
                        <p class="text-gray-700">Đội ngũ tư vấn chuyên nghiệp, sẵn sàng hỗ trợ.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="products" class="page">
            <h1 class="text-4xl font-bold mb-8 text-center">Tất Cả Sản Phẩm</h1>
            <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                </div>
        </section>

        <section id="product-detail" class="page">
            <div id="product-detail-content" class="bg-white p-8 rounded-lg shadow-lg">
                </div>
             <button class="mt-8 btn btn-secondary nav-link" data-page="products">
                <i class="fas fa-arrow-left mr-2"></i>Quay Lại Sản Phẩm
            </button>
        </section>

        <section id="contact" class="page">
            <h1 class="text-4xl font-bold mb-8 text-center">Liên Hệ Với Chúng Tôi</h1>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-lg">
                <form id="contactForm">
                    <div class="mb-6">
                        <label for="name" class="block text-gray-700 font-semibold mb-2">Họ và Tên</label>
                        <input type="text" id="name" name="name" class="form-input" placeholder="Nguyễn Văn A" required>
                    </div>
                    <div class="mb-6">
                        <label for="email" class="block text-gray-700 font-semibold mb-2">Email</label>
                        <input type="email" id="email" name="email" class="form-input" placeholder="email@example.com" required>
                    </div>
                    <div class="mb-6">
                        <label for="message" class="block text-gray-700 font-semibold mb-2">Nội dung</label>
                        <textarea id="message" name="message" rows="5" class="form-input" placeholder="Nội dung tin nhắn của bạn..." required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary w-full">Gửi Tin Nhắn</button>
                </form>
            </div>
        </section>

        <section id="auth" class="page">
            <div class="max-w-md mx-auto">
                <div id="login-form-container" class="bg-white p-8 rounded-lg shadow-lg">
                    <h2 class="text-3xl font-bold mb-6 text-center text-gray-800">Đăng Nhập</h2>
                    <form id="loginForm">
                        <div class="mb-4">
                            <label for="loginEmail" class="block text-gray-700 font-semibold mb-2">Email</label>
                            <input type="email" id="loginEmail" class="form-input" required placeholder="Email của bạn">
                        </div>
                        <div class="mb-6">
                            <label for="loginPassword" class="block text-gray-700 font-semibold mb-2">Mật Khẩu</label>
                            <input type="password" id="loginPassword" class="form-input" required placeholder="Mật khẩu">
                        </div>
                        <button type="submit" class="btn btn-primary w-full">Đăng Nhập</button>
                    </form>
                    <p class="mt-6 text-center text-gray-600">
                        Chưa có tài khoản? <a href="#" id="showRegister" class="text-blue-600 hover:underline font-semibold">Đăng ký ngay</a>
                    </p>
                </div>

                <div id="register-form-container" class="bg-white p-8 rounded-lg shadow-lg mt-8" style="display: none;">
                    <h2 class="text-3xl font-bold mb-6 text-center text-gray-800">Đăng Ký</h2>
                    <form id="registerForm">
                        <div class="mb-4">
                            <label for="registerName" class="block text-gray-700 font-semibold mb-2">Họ và Tên</label>
                            <input type="text" id="registerName" class="form-input" required placeholder="Họ và tên của bạn">
                        </div>
                        <div class="mb-4">
                            <label for="registerEmail" class="block text-gray-700 font-semibold mb-2">Email</label>
                            <input type="email" id="registerEmail" class="form-input" required placeholder="Email của bạn">
                        </div>
                        <div class="mb-4">
                            <label for="registerPassword" class="block text-gray-700 font-semibold mb-2">Mật Khẩu</label>
                            <input type="password" id="registerPassword" class="form-input" required placeholder="Tạo mật khẩu">
                        </div>
                         <div class="mb-6">
                            <label for="confirmPassword" class="block text-gray-700 font-semibold mb-2">Xác Nhận Mật Khẩu</label>
                            <input type="password" id="confirmPassword" class="form-input" required placeholder="Xác nhận mật khẩu">
                        </div>
                        <button type="submit" class="btn btn-primary w-full">Đăng Ký</button>
                    </form>
                    <p class="mt-6 text-center text-gray-600">
                        Đã có tài khoản? <a href="#" id="showLogin" class="text-blue-600 hover:underline font-semibold">Đăng nhập</a>
                    </p>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-10 mt-12">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2024 WatchStore. Đã đăng ký Bản quyền.</p>
            <div class="mt-4 space-x-4">
                <a href="#" class="hover:text-blue-400">Chính sách bảo mật</a>
                <a href="#" class="hover:text-blue-400">Điều khoản dịch vụ</a>
            </div>
        </div>
    </footer>

    <div id="messageModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" id="modalCloseButton">&times;</span>
            <p id="modalMessageText" class="text-lg"></p>
        </div>
    </div>


    <script>
        // --- Sample Product Data ---
        const products = [
            { id: 1, name: "Đồng Hồ Chronograph Thép", price: "7.500.000₫", image: "https://placehold.co/600x400/E2E8F0/AAAAAA?text=Đồng+Hồ+1", description: "Một chiếc đồng hồ chronograph thanh lịch với vỏ thép không gỉ, mặt kính sapphire và dây đeo bằng da cao cấp. Hoàn hảo cho những dịp trang trọng.", category: "Nam", details: "Chất liệu vỏ: Thép không gỉ 316L. Kính: Sapphire chống trầy. Máy: Quartz Thụy Sĩ. Chống nước: 5ATM." },
            { id: 2, name: "Đồng Hồ Nữ Đính Đá", price: "5.200.000₫", image: "https://placehold.co/600x400/E2E8F0/AAAAAA?text=Đồng+Hồ+2", description: "Thiết kế tinh tế dành cho phái nữ, mặt đồng hồ đính đá Swarovski lấp lánh, dây đeo kim loại mảnh mai. Phù hợp cho dạ tiệc hoặc sử dụng hàng ngày.", category: "Nữ", details: "Chất liệu vỏ: Thép không gỉ mạ vàng PVD. Kính: Khoáng cường lực. Máy: Quartz Nhật Bản. Chống nước: 3ATM." },
            { id: 3, name: "Đồng Hồ Thể Thao Đa Năng", price: "9.800.000₫", image: "https://placehold.co/600x400/E2E8F0/AAAAAA?text=Đồng+Hồ+3", description: "Mạnh mẽ và bền bỉ, đồng hồ thể thao này có nhiều chức năng như bấm giờ, la bàn, đo độ cao. Lý tưởng cho các hoạt động ngoài trời.", category: "Thể thao", details: "Chất liệu vỏ: Titanium. Kính: Sapphire. Máy: Automatic. Chống nước: 20ATM. Chức năng: GPS, Heart rate." },
            { id: 4, name: "Đồng Hồ Cổ Điển Dây Da", price: "6.100.000₫", image: "https://placehold.co/600x400/E2E8F0/AAAAAA?text=Đồng+Hồ+4", description: "Phong cách cổ điển vượt thời gian, mặt số La Mã, kim xanh truyền thống và dây da bê mềm mại. Sự lựa chọn của quý ông lịch lãm.", category: "Nam", details: "Chất liệu vỏ: Thép không gỉ. Kính: Khoáng. Máy: Automatic Nhật Bản. Chống nước: 5ATM." },
            { id: 5, name: "Đồng Hồ Thông Minh Hybrid", price: "8.500.000₫", image: "https://placehold.co/600x400/E2E8F0/AAAAAA?text=Đồng+Hồ+5", description: "Kết hợp vẻ đẹp cổ điển và công nghệ hiện đại. Theo dõi sức khỏe, nhận thông báo và thời lượng pin dài.", category: "Thông minh", details: "Chất liệu vỏ: Nhôm. Kính: Gorilla Glass. Kết nối: Bluetooth 5.0. Tương thích: iOS, Android. Pin: 7 ngày." },
            { id: 6, name: "Đồng Hồ Nữ Mặt Vuông Cá Tính", price: "4.300.000₫", image: "https://placehold.co/600x400/E2E8F0/AAAAAA?text=Đồng+Hồ+6", description: "Thiết kế mặt vuông độc đáo, tạo điểm nhấn cá tính cho phong cách của bạn. Dây lưới kim loại thời trang.", category: "Nữ", details: "Chất liệu vỏ: Thép không gỉ. Kính: Khoáng. Máy: Quartz. Chống nước: 3ATM." }
        ];

        let cart = [];

        // --- DOM Elements ---
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');
        const productListContainer = document.getElementById('product-list');
        const featuredProductsContainer = document.getElementById('featured-products');
        const productDetailContainer = document.getElementById('product-detail-content');
        const contactForm = document.getElementById('contactForm');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const showRegisterLink = document.getElementById('showRegister');
        const showLoginLink = document.getElementById('showLogin');
        const loginFormContainer = document.getElementById('login-form-container');
        const registerFormContainer = document.getElementById('register-form-container');
        const cartCountElement = document.getElementById('cart-count');

        // Modal elements
        const messageModal = document.getElementById('messageModal');
        const modalMessageText = document.getElementById('modalMessageText');
        const modalCloseButton = document.getElementById('modalCloseButton');

        // --- Utility Functions ---
        function showModal(message) {
            modalMessageText.textContent = message;
            messageModal.style.display = "block";
        }

        modalCloseButton.onclick = function() {
            messageModal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == messageModal) {
                messageModal.style.display = "none";
            }
        }

        // --- Navigation ---
        function setActivePage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
                if (page.id === pageId) {
                    page.classList.add('active');
                }
            });
            // Update active state for nav links
            navLinks.forEach(link => {
                link.classList.remove('active-nav');
                if (link.dataset.page === pageId) {
                    link.classList.add('active-nav');
                }
            });
            window.scrollTo(0, 0); // Scroll to top on page change
        }

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const pageId = e.target.closest('.nav-link').dataset.page;
                if (pageId) {
                    setActivePage(pageId);
                }
            });
        });

        // --- Product Display ---
        function renderProducts(container, productArray) {
            if (!container) return;
            container.innerHTML = ''; // Clear existing products
            productArray.forEach(product => {
                const productCard = `
                    <div class="product-card bg-white rounded-lg shadow-md overflow-hidden cursor-pointer" data-product-id="${product.id}">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-56 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/600x400/E2E8F0/AAAAAA?text=Ảnh+Lỗi';">
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2 truncate" title="${product.name}">${product.name}</h3>
                            <p class="text-gray-700 text-lg font-bold mb-3">${product.price}</p>
                            <p class="text-gray-600 text-sm mb-4 truncate">${product.description}</p>
                            <div class="flex justify-between items-center">
                                <button class="btn btn-primary view-detail-btn" data-product-id="${product.id}">Xem Chi Tiết</button>
                                <button class="btn btn-secondary add-to-cart-btn" data-product-id="${product.id}">
                                    <i class="fas fa-cart-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += productCard;
            });

            // Add event listeners for new buttons
            document.querySelectorAll('.view-detail-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = e.target.closest('.view-detail-btn').dataset.productId;
                    renderProductDetail(productId);
                    setActivePage('product-detail');
                });
            });
            document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.closest('.add-to-cart-btn').dataset.productId);
                    addToCart(productId);
                });
            });
             // Make entire card clickable to view detail
            document.querySelectorAll('.product-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    // Prevent event from firing if a button inside card was clicked
                    if (e.target.closest('button')) return;
                    const productId = card.dataset.productId;
                    renderProductDetail(productId);
                    setActivePage('product-detail');
                });
            });
        }

        function renderProductDetail(productId) {
            const product = products.find(p => p.id == productId);
            if (product && productDetailContainer) {
                productDetailContainer.innerHTML = `
                    <div class="grid md:grid-cols-2 gap-8 items-start">
                        <div>
                            <img src="${product.image}" alt="${product.name}" class="w-full rounded-lg shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/600x400/E2E8F0/AAAAAA?text=Ảnh+Lỗi';">
                        </div>
                        <div>
                            <h1 class="text-4xl font-bold mb-4">${product.name}</h1>
                            <p class="text-2xl text-blue-600 font-semibold mb-6">${product.price}</p>
                            <p class="text-gray-700 mb-6">${product.description}</p>
                            <h3 class="text-xl font-semibold mb-2">Chi tiết sản phẩm:</h3>
                            <p class="text-gray-600 mb-6 whitespace-pre-line">${product.details}</p>
                            <button class="btn btn-primary add-to-cart-btn-detail w-full sm:w-auto" data-product-id="${product.id}">
                                <i class="fas fa-cart-plus mr-2"></i>Thêm vào giỏ hàng
                            </button>
                        </div>
                    </div>
                `;
                 // Add event listener for new "add to cart" button on detail page
                document.querySelectorAll('.add-to-cart-btn-detail').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const prodId = parseInt(e.target.closest('.add-to-cart-btn-detail').dataset.productId);
                        addToCart(prodId);
                    });
                });
            } else if (productDetailContainer) {
                productDetailContainer.innerHTML = '<p>Sản phẩm không tìm thấy.</p>';
            }
        }

        // --- Cart Functionality ---
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                const existingProductIndex = cart.findIndex(item => item.id === productId);
                if (existingProductIndex > -1) {
                    cart[existingProductIndex].quantity += 1;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                updateCartCount();
                showModal(`${product.name} đã được thêm vào giỏ hàng!`);
                console.log("Cart:", cart); // For debugging
            }
        }

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            if (cartCountElement) {
                cartCountElement.textContent = totalItems;
            }
        }


        // --- Form Handling ---
        if (contactForm) {
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const name = contactForm.name.value;
                const email = contactForm.email.value;
                const message = contactForm.message.value;
                console.log("Contact Form Submitted:", { name, email, message });
                showModal("Cảm ơn bạn đã liên hệ! Chúng tôi sẽ phản hồi sớm.");
                contactForm.reset();
            });
        }

        if (loginForm) {
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const email = loginForm.loginEmail.value;
                const password = loginForm.loginPassword.value;
                console.log("Login Attempt:", { email }); // Don't log password
                // Simulate login
                showModal(`Chào mừng ${email} đã đăng nhập thành công! (Mô phỏng)`);
                loginForm.reset();
                setActivePage('home'); // Redirect to home after login
            });
        }

        if (registerForm) {
            registerForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const name = registerForm.registerName.value;
                const email = registerForm.registerEmail.value;
                const password = registerForm.registerPassword.value;
                const confirmPassword = registerForm.confirmPassword.value;

                if (password !== confirmPassword) {
                    showModal("Mật khẩu xác nhận không khớp!");
                    return;
                }
                console.log("Register Attempt:", { name, email }); // Don't log password
                // Simulate registration
                showModal(`Tài khoản cho ${email} đã được tạo thành công! (Mô phỏng)`);
                registerForm.reset();
                // Switch to login form after successful registration
                if (loginFormContainer && registerFormContainer) {
                    loginFormContainer.style.display = 'block';
                    registerFormContainer.style.display = 'none';
                }
                setActivePage('auth');
            });
        }

        if (showRegisterLink && showLoginLink && loginFormContainer && registerFormContainer) {
            showRegisterLink.addEventListener('click', (e) => {
                e.preventDefault();
                loginFormContainer.style.display = 'none';
                registerFormContainer.style.display = 'block';
            });

            showLoginLink.addEventListener('click', (e) => {
                e.preventDefault();
                registerFormContainer.style.display = 'none';
                loginFormContainer.style.display = 'block';
            });
        }

        // --- Initial Page Load ---
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts(productListContainer, products);
            // Render a few featured products (e.g., first 3)
            if (featuredProductsContainer) {
                 renderProducts(featuredProductsContainer, products.slice(0, 3));
            }
            setActivePage('home'); // Set home as the initial active page
            updateCartCount(); // Initialize cart count
        });

    </script>
</body>
</html>
